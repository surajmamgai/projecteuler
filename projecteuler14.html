<script type="text/javascript">
var start = window.performance.now();

const even = (n) => n/2;
const odd = (n) => (3 * n) + 1;
const isEven = (n) => (n % 2) == 0;
const isInt = (n) => n % 1 === 0;

var arr = [];

const countCollatzSeries = (n) => {
  let count = 1;
  let final = n;
  while (final > 1) {
    final = (isEven(final)) ? even(final) : odd(final);
    if (arr[final]) {
      count += arr[final];
      break;
    }
    count++;
  }
  arr[n] = count;
  return count;
};

final = 1000000;
for (let i=2; i<=final; i++) {
  countCollatzSeries(i);
}

var max = Object.keys(arr).reduce((a, b) => (arr[a] > arr[b]) ? a : b);
console.log(max);
console.log(arr[max]);

console.log('Took', (window.performance.now() - start).toFixed(4), 'milliseconds to execute the script.');
</script>

<div>Running Javascript!</div>

